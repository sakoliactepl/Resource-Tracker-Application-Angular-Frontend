<div class="admin-user-container">
    <h2 class="page-title">User Management</h2>

    <!-- Search Bar -->
    <div class="search-bar">
        <input kendoTextBox [(ngModel)]="searchTerm" placeholder="Search by name or email..." />
    </div>

    <kendo-tabstrip>
        <!-- Existing Users Tab -->
        <kendo-tabstrip-tab title="Existing Users" [selected]="true">
            <ng-template kendoTabContent>
                <kendo-grid [kendoGridBinding]="filteredUsers" [sortable]="true" [pageable]="true" [pageSize]="8">
                    <kendo-grid-column field="userId" title="User ID" [width]="80"></kendo-grid-column>
                    <kendo-grid-column field="username" title="Username"></kendo-grid-column>
                    <kendo-grid-column field="email" title="Email"></kendo-grid-column>
                    <kendo-grid-column field="role" title="Role" [width]="180">
                        <ng-template kendoGridCellTemplate let-dataItem>
                            <kendo-dropdownlist [data]="roles" [(ngModel)]="dataItem.role"
                                (valueChange)="changeRole(dataItem, $event)"></kendo-dropdownlist>
                        </ng-template>
                    </kendo-grid-column>
                    <kendo-grid-column title="Actions" [width]="150">
                        <ng-template kendoGridCellTemplate let-dataItem>
                            <button kendoButton look="outline" class="danger" (click)="revokeUser(dataItem)">
                                Revoke
                            </button>
                        </ng-template>
                    </kendo-grid-column>
                </kendo-grid>
            </ng-template>
        </kendo-tabstrip-tab>

        <!-- Not Users Tab -->
        <kendo-tabstrip-tab title="Not Users">
            <ng-template kendoTabContent>
                <kendo-grid [kendoGridBinding]="filteredResources" [sortable]="true" [pageable]="true" [pageSize]="8">
                    <kendo-grid-column field="resourceId" title="Resource ID" [width]="100"></kendo-grid-column>
                    <kendo-grid-column field="fullName" title="Full Name"></kendo-grid-column>
                    <kendo-grid-column field="email" title="Email"></kendo-grid-column>
                    <kendo-grid-column title="Actions" [width]="150">
                        <ng-template kendoGridCellTemplate let-dataItem>
                            <button kendoButton look="outline" (click)="inviteUser(dataItem)">
                                Invite
                            </button>
                        </ng-template>
                    </kendo-grid-column>
                </kendo-grid>
            </ng-template>
        </kendo-tabstrip-tab>
    </kendo-tabstrip>
</div>